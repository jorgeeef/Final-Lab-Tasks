2025-03-12 14:41:22.867 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-12 14:41:22.894 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - null null
2025-03-12 14:41:22.913 +02:00 [INF] Hosting environment: Development
2025-03-12 14:41:22.913 +02:00 [INF] Content root path: C:\Users\user\RiderProjects\Task1 - Banking Service\Task1 - Banking Service
2025-03-12 14:41:23.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - 200 null text/html;charset=utf-8 190.874ms
2025-03-12 14:41:23.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - null null
2025-03-12 14:41:23.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.8272ms
2025-03-12 14:43:10.971 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44331/api/transaction-logs - application/json 193
2025-03-12 14:43:10.980 +02:00 [INF] Executing endpoint 'Task1___Banking_Service.Controllers.TransactionLogController.CreateTransactionLog (Task1 - Banking Service)'
2025-03-12 14:43:11.006 +02:00 [INF] Route matched with {action = "CreateTransactionLog", controller = "TransactionLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransactionLog(Task1___Banking_Service.Models.TransactionLog) on controller Task1___Banking_Service.Controllers.TransactionLogController (Task1 - Banking Service).
2025-03-12 14:43:11.386 +02:00 [INF] Executing action method Task1___Banking_Service.Controllers.TransactionLogController.CreateTransactionLog (Task1 - Banking Service) - Validation state: "Valid"
2025-03-12 14:43:12.163 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Decimal), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TransactionLogs" ("Id", "AccountId", "Amount", "Details", "Status", "Timestamp", "TransactionType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-12 14:43:12.252 +02:00 [INF] Executed action method Task1___Banking_Service.Controllers.TransactionLogController.CreateTransactionLog (Task1 - Banking Service), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 862.3564ms.
2025-03-12 14:43:12.261 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Task1___Banking_Service.Models.TransactionLog'.
2025-03-12 14:43:12.298 +02:00 [INF] Executed action Task1___Banking_Service.Controllers.TransactionLogController.CreateTransactionLog (Task1 - Banking Service) in 1288.7215ms
2025-03-12 14:43:12.299 +02:00 [INF] Executed endpoint 'Task1___Banking_Service.Controllers.TransactionLogController.CreateTransactionLog (Task1 - Banking Service)'
2025-03-12 14:43:12.302 +02:00 [INF] HTTP POST /api/transaction-logs responded 201 in 1325.2087 ms
2025-03-12 14:43:12.313 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44331/api/transaction-logs - 201 null application/json; charset=utf-8 1341.9679ms
2025-03-12 14:43:12.327 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = Decimal), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TransactionLogs" ("Id", "AccountId", "Amount", "Details", "Status", "Timestamp", "TransactionType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-12 14:43:12.348 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Task1___Banking_Service.Data.TransactionDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_TransactionLogs"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_TransactionLogs"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: TransactionLogs
    ConstraintName: PK_TransactionLogs
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_TransactionLogs"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_TransactionLogs"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: TransactionLogs
    ConstraintName: PK_TransactionLogs
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-12 14:55:12.780 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-12 14:55:12.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - null null
2025-03-12 14:55:12.813 +02:00 [INF] Hosting environment: Development
2025-03-12 14:55:12.814 +02:00 [INF] Content root path: C:\Users\user\RiderProjects\Task1 - Banking Service\Task1 - Banking Service
2025-03-12 14:55:12.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - 200 null text/html;charset=utf-8 169.5949ms
2025-03-12 14:55:13.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - null null
2025-03-12 14:55:13.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.9768ms
2025-03-12 14:56:13.109 +02:00 [INF] Application is shutting down...
2025-03-12 14:57:18.388 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-12 14:57:18.405 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - null null
2025-03-12 14:57:18.420 +02:00 [INF] Hosting environment: Development
2025-03-12 14:57:18.420 +02:00 [INF] Content root path: C:\Users\user\RiderProjects\Task1 - Banking Service\Task1 - Banking Service
2025-03-12 14:57:18.578 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - 200 null text/html;charset=utf-8 177.109ms
2025-03-12 14:57:18.677 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - null null
2025-03-12 14:57:18.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.2612ms
2025-03-12 14:57:29.162 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/odata - null null
2025-03-12 14:57:29.193 +02:00 [INF] Executing endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetServiceDocument (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:29.215 +02:00 [INF] Route matched with {action = "GetServiceDocument", controller = "Metadata"}. Executing controller action with signature Microsoft.OData.ODataServiceDocument GetServiceDocument() on controller Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController (Microsoft.AspNetCore.OData).
2025-03-12 14:57:29.227 +02:00 [INF] Executing action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetServiceDocument (Microsoft.AspNetCore.OData) - Validation state: "Valid"
2025-03-12 14:57:29.235 +02:00 [INF] Executed action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetServiceDocument (Microsoft.AspNetCore.OData), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2.9647ms.
2025-03-12 14:57:29.253 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.OData.ODataServiceDocument'.
2025-03-12 14:57:29.359 +02:00 [INF] Executed action Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetServiceDocument (Microsoft.AspNetCore.OData) in 140.5292ms
2025-03-12 14:57:29.360 +02:00 [INF] Executed endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetServiceDocument (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:29.361 +02:00 [INF] HTTP GET /odata responded 200 in 173.4051 ms
2025-03-12 14:57:29.363 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/odata - 200 null application/json; odata.metadata=minimal; odata.streaming=true; charset=utf-8 200.7155ms
2025-03-12 14:57:43.452 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/odata/$metadata - null null
2025-03-12 14:57:43.455 +02:00 [INF] Executing endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:43.457 +02:00 [INF] Route matched with {action = "GetMetadata", controller = "Metadata"}. Executing controller action with signature Microsoft.OData.Edm.IEdmModel GetMetadata() on controller Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController (Microsoft.AspNetCore.OData).
2025-03-12 14:57:43.457 +02:00 [INF] Executing action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData) - Validation state: "Valid"
2025-03-12 14:57:43.458 +02:00 [INF] Executed action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.0467ms.
2025-03-12 14:57:43.460 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.OData.Edm.EdmModel'.
2025-03-12 14:57:43.578 +02:00 [INF] Executed action Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData) in 120.5504ms
2025-03-12 14:57:43.578 +02:00 [INF] Executed endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:43.578 +02:00 [INF] HTTP GET /odata/$metadata responded 200 in 123.1705 ms
2025-03-12 14:57:43.578 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/odata/$metadata - 200 null application/xml; charset=utf-8 126.5734ms
2025-03-12 14:57:44.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44331/odata/$metadata - null null
2025-03-12 14:57:44.653 +02:00 [INF] Executing endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:44.653 +02:00 [INF] Route matched with {action = "GetMetadata", controller = "Metadata"}. Executing controller action with signature Microsoft.OData.Edm.IEdmModel GetMetadata() on controller Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController (Microsoft.AspNetCore.OData).
2025-03-12 14:57:44.653 +02:00 [INF] Executing action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData) - Validation state: "Valid"
2025-03-12 14:57:44.653 +02:00 [INF] Executed action method Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.0316ms.
2025-03-12 14:57:44.655 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.OData.Edm.EdmModel'.
2025-03-12 14:57:44.657 +02:00 [INF] Executed action Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData) in 3.956ms
2025-03-12 14:57:44.657 +02:00 [INF] Executed endpoint 'Microsoft.AspNetCore.OData.Routing.Controllers.MetadataController.GetMetadata (Microsoft.AspNetCore.OData)'
2025-03-12 14:57:44.657 +02:00 [INF] HTTP GET /odata/$metadata responded 200 in 4.6423 ms
2025-03-12 14:57:44.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44331/odata/$metadata - 200 null application/xml; charset=utf-8 5.569ms
2025-03-12 15:00:01.160 +02:00 [INF] Application is shutting down...
